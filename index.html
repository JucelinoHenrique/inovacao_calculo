<!DOCTYPE html>
<html lang="pt-br">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>C√°lculo Num√©rico - M√©todos e Aplica√ß√µes</title>
  <link href="https://fonts.googleapis.com/css2?family=Poppins:wght@400;600&display=swap" rel="stylesheet">
  <script src="https://cdn.jsdelivr.net/npm/chart.js"></script>
  <style>
    :root {
      --primary: #007BFF;
      --dark: #0056b3;
      --light-bg: #f8f9fa;
      --white: #ffffff;
      --gray: #6c757d;
      --highlight: #ffc107;
    }

    * {
      box-sizing: border-box;
      margin: 0;
      padding: 0;
    }

    body {
      font-family: 'Poppins', sans-serif;
      background: var(--light-bg);
      color: #212529;
      line-height: 1.6;
      scroll-behavior: smooth;
    }

    header {
      background: linear-gradient(90deg, #007BFF, #3399ff);
      color: var(--white);
      padding: 2rem 1rem;
      text-align: center;
      box-shadow: 0 2px 8px rgba(0,0,0,0.1);
    }

    header h1 {
      font-size: 2.8rem;
      margin-bottom: 0.5rem;
    }

    nav {
      background: var(--dark);
      text-align: center;
      padding: 1rem 0;
      position: sticky;
      top: 0;
      z-index: 999;
    }

    nav a {
      color: var(--white);
      margin: 0 1.2rem;
      text-decoration: none;
      font-weight: bold;
      transition: color 0.3s;
      cursor: pointer;
    }

    nav a:hover {
      color: var(--highlight);
    }

    main {
      display: flex;
      flex-direction: column;
      align-items: center;
      padding: 2rem;
      max-width: 1000px;
      margin: auto;
      min-height: 60vh;
    }

    section {
      background: var(--white);
      padding: 2rem;
      border-radius: 12px;
      box-shadow: 0 4px 12px rgba(0,0,0,0.08);
      display: none;
      opacity: 0;
      transform: translateY(20px);
      pointer-events: none;
      transition: opacity 0.8s ease-in-out, transform 0.8s ease-in-out;
      width: 100%;
    }

    section.active {
      display: block;
      opacity: 1;
      transform: translateY(0);
      pointer-events: all;
    }

    h2::before {
      content: "\1F4C8 ";
    }

    h2 {
      color: var(--primary);
      margin-bottom: 1rem;
      font-size: 1.8rem;
    }

    p {
      margin-bottom: 1rem;
    }

    code {
      background: #e9ecef;
      padding: 0.3rem 0.5rem;
      border-radius: 5px;
      font-family: 'Courier New', Courier, monospace;
    }

    footer {
      background: #343a40;
      color: #dee2e6;
      text-align: center;
      padding: 1.5rem;
      font-size: 0.9rem;
      border-top: 4px solid var(--primary);
      margin-top: 2rem;
    }

    canvas#graficoFuncao {
      max-width: 100%;
      height: 400px;
      display: block;
    }
  </style>
</head>
<body>
  <header>
    <h1>C√°lculo Num√©rico</h1>
  </header>

  <nav>
    <a onclick="mostrarSecao('introducao')">Introdu√ß√£o</a>
    <a onclick="mostrarSecao('bolzano')">Teorema de Bolzano</a>
    <a onclick="mostrarSecao('bissecao')">Bisse√ß√£o</a>
    <a onclick="mostrarSecao('falsa-posicao')">Falsa Posi√ß√£o</a>
    <a onclick="mostrarSecao('newton')">Newton-Raphson</a>
    <a onclick="mostrarSecao('erro')">Erro</a>
  </nav>
  <main>
    <section id="introducao" class="active">
  <h2>Introdu√ß√£o ao C√°lculo Num√©rico</h2>
  <p>O C√°lculo Num√©rico √© uma √°rea da matem√°tica aplicada que desenvolve e analisa algoritmos para resolver problemas matem√°ticos de forma aproximada. √â especialmente √∫til quando n√£o h√° solu√ß√µes anal√≠ticas vi√°veis ou quando √© necess√°rio usar computadores para obter resultados.</p>
  <p>Com o avan√ßo da tecnologia, o c√°lculo num√©rico se tornou fundamental em √°reas como engenharia, ci√™ncias da computa√ß√£o, economia, f√≠sica e estat√≠stica. Ele permite encontrar ra√≠zes de equa√ß√µes, resolver sistemas lineares, integrar fun√ß√µes e muito mais, com alta precis√£o e efici√™ncia.</p>
  <p>Este site apresenta os principais m√©todos para encontrar ra√≠zes de fun√ß√µes, como Bisse√ß√£o, Falsa Posi√ß√£o e Newton-Raphson, al√©m de conceitos fundamentais como o Teorema de Bolzano e os tipos de erro num√©rico.</p>

  <div style="margin-top: 2rem;">
    <h3 style="color: var(--primary); margin-bottom: 1rem;">üîç √Åreas de Aplica√ß√£o</h3>
    <div style="display: grid; grid-template-columns: repeat(auto-fit, minmax(280px, 1fr)); gap: 1rem;">
      <div style="background: #f1f3f5; border-radius: 8px; padding: 1rem;">
        <strong>Engenharia</strong>
        <p style="margin-top: 0.5rem;">An√°lise estrutural, transfer√™ncia de calor, escoamento de fluidos e controle de sistemas.</p>
      </div>
      <div style="background: #f1f3f5; border-radius: 8px; padding: 1rem;">
        <strong>Ci√™ncia da Computa√ß√£o</strong>
        <p style="margin-top: 0.5rem;">Algoritmos num√©ricos, m√©todos iterativos, interpola√ß√£o e gr√°ficos computacionais.</p>
      </div>
      <div style="background: #f1f3f5; border-radius: 8px; padding: 1rem;">
        <strong>Economia e Finan√ßas</strong>
        <p style="margin-top: 0.5rem;">Simula√ß√µes econ√¥micas, precifica√ß√£o de ativos e an√°lise de risco.</p>
      </div>
      <div style="background: #f1f3f5; border-radius: 8px; padding: 1rem;">
        <strong>F√≠sica e Qu√≠mica</strong>
        <p style="margin-top: 0.5rem;">Modelagem de fen√¥menos, equa√ß√µes diferenciais e simula√ß√µes experimentais.</p>
      </div>
      <div style="background: #f1f3f5; border-radius: 8px; padding: 1rem;">
        <strong>Biologia e Medicina</strong>
        <p style="margin-top: 0.5rem;">Reconstru√ß√£o de imagens m√©dicas, an√°lises gen√¥micas e sistemas biol√≥gicos.</p>
      </div>
      <div style="background: #f1f3f5; border-radius: 8px; padding: 1rem;">
        <strong>IA e Ci√™ncia de Dados</strong>
        <p style="margin-top: 0.5rem;">Regress√£o, ajuste de curvas e m√©todos iterativos em aprendizado de m√°quina.</p>
      </div>
    </div>
  </div>

  <div style="margin-top: 2rem;">
    <h3 style="color: var(--primary);">üéØ Por que estudar C√°lculo Num√©rico?</h3>
    <p>O C√°lculo Num√©rico √© essencial para quem deseja aplicar matem√°tica na solu√ß√£o de problemas reais. Ele aprimora a compreens√£o dos limites da precis√£o computacional, desenvolve a habilidade de an√°lise de algoritmos e fornece base s√≥lida para diversas √°reas como engenharia, ci√™ncia de dados, f√≠sica aplicada, finan√ßas computacionais e modelagem de sistemas.</p>
  </div>
</section>
<section id="bolzano">
  <h2>Teorema de Bolzano</h2>
  <p>O Teorema de Bolzano afirma que, se uma fun√ß√£o √© cont√≠nua em um intervalo fechado e os valores da fun√ß√£o nas extremidades desse intervalo possuem sinais opostos (um positivo e o outro negativo), ent√£o existe pelo menos uma raiz dentro desse intervalo.</p>
  <p>Esse princ√≠pio √© muito √∫til para confirmar a exist√™ncia de uma solu√ß√£o em equa√ß√µes n√£o lineares antes de aplicar m√©todos num√©ricos como bisse√ß√£o ou falsa posi√ß√£o.</p>

  <h3 style="margin-top: 2rem; color: var(--primary);">üî¢ Teste interativo do Teorema de Bolzano</h3>
  <p>Insira uma fun√ß√£o <code>f(x)</code> e os valores de <code>a</code> e <code>b</code>. O sistema verificar√° se h√° mudan√ßa de sinal entre os valores da fun√ß√£o nesses pontos, indicando a exist√™ncia de uma raiz.</p>

  <div style="background: #f8f9fa; padding: 1rem; border-radius: 10px; box-shadow: 0 2px 4px rgba(0,0,0,0.05);">
    <label for="funcao">Fun√ß√£o f(x):</label>
    <input type="text" id="funcao" placeholder="Ex: x^3 - x - 2" style="width: 100%; padding: 0.5rem; margin: 0.5rem 0;">

    <label for="a">Valor de a:</label>
    <input type="number" id="a" style="width: 100%; padding: 0.5rem; margin: 0.5rem 0;">

    <label for="b">Valor de b:</label>
    <input type="number" id="b" style="width: 100%; padding: 0.5rem; margin: 0.5rem 0;">

    <button onclick="verificarBolzano()" style="padding: 0.5rem 1rem; background-color: var(--primary); color: white; border: none; border-radius: 5px; margin-top: 0.5rem; cursor: pointer;">Verificar</button>

    <div id="resultado-bolzano" style="margin-top: 1rem; font-weight: bold;"></div>
  </div>
</section>
<section id="bissecao">
  <h2>M√©todo da Bisse√ß√£o</h2>
  <p>O m√©todo da bisse√ß√£o √© uma t√©cnica iterativa utilizada para encontrar ra√≠zes de fun√ß√µes. Ele parte de um intervalo [a, b] onde a fun√ß√£o muda de sinal (ou seja, a fun√ß√£o em a e b possui sinais opostos), e divide esse intervalo ao meio repetidamente at√© encontrar uma aproxima√ß√£o para a raiz.</p>

  <h3 style="margin-top: 2rem; color: var(--primary);">üßÆ Calculadora de Bisse√ß√£o</h3>
  <p>Digite a fun√ß√£o, os valores de a e b, e a quantidade de itera√ß√µes desejada. O sistema executar√° o processo da bisse√ß√£o passo a passo.</p>

  <div style="background: #f8f9fa; padding: 1rem; border-radius: 10px; box-shadow: 0 2px 4px rgba(0,0,0,0.05);">
    <label for="funcao-bissecao">Fun√ß√£o f(x):</label>
    <input type="text" id="funcao-bissecao" placeholder="Ex: x^3 - x - 2" style="width: 100%; padding: 0.5rem; margin: 0.5rem 0;">

    <label for="a-bissecao">Valor de a:</label>
    <input type="number" id="a-bissecao" style="width: 100%; padding: 0.5rem; margin: 0.5rem 0;">

    <label for="b-bissecao">Valor de b:</label>
    <input type="number" id="b-bissecao" style="width: 100%; padding: 0.5rem; margin: 0.5rem 0;">

    <label for="iteracoes-bissecao">N√∫mero de itera√ß√µes:</label>
    <input type="number" id="iteracoes-bissecao" value="5" style="width: 100%; padding: 0.5rem; margin: 0.5rem 0;">

    <button onclick="executarBissecao()" style="padding: 0.5rem 1rem; background-color: var(--primary); color: white; border: none; border-radius: 5px; margin-top: 0.5rem; cursor: pointer;">Calcular</button>

    <div id="resultado-bissecao" style="margin-top: 1rem;"></div>
  </div>
</section>
<section id="falsa-posicao">
  <h2>M√©todo da Falsa Posi√ß√£o</h2>
  <p>Esse m√©todo usa uma linha reta para aproximar a raiz da fun√ß√£o, com base nos extremos do intervalo [a, b] onde a fun√ß√£o muda de sinal. A f√≥rmula fornece um ponto de interse√ß√£o que ser√° usado como nova estimativa da raiz.</p>

  <h3 style="margin-top: 2rem; color: var(--primary);">üìà Calculadora da Falsa Posi√ß√£o</h3>
  <div style="background: #f8f9fa; padding: 1rem; border-radius: 10px; box-shadow: 0 2px 4px rgba(0,0,0,0.05);">
    <label for="funcao-falsa">Fun√ß√£o f(x):</label>
    <input type="text" id="funcao-falsa" placeholder="Ex: x^3 - x - 2" style="width: 100%; padding: 0.5rem; margin: 0.5rem 0;">
    
    <label for="a-falsa">Valor de a:</label>
    <input type="number" id="a-falsa" style="width: 100%; padding: 0.5rem; margin: 0.5rem 0;">
    
    <label for="b-falsa">Valor de b:</label>
    <input type="number" id="b-falsa" style="width: 100%; padding: 0.5rem; margin: 0.5rem 0;">
    
    <label for="iteracoes-falsa">N√∫mero de itera√ß√µes:</label>
    <input type="number" id="iteracoes-falsa" value="5" style="width: 100%; padding: 0.5rem; margin: 0.5rem 0;">
    
    <button onclick="executarFalsaPosicao()" style="padding: 0.5rem 1rem; background-color: var(--primary); color: white; border: none; border-radius: 5px; cursor: pointer;">Calcular</button>
    <div id="resultado-falsa" style="margin-top: 1rem;"></div>
  </div>
</section>
<section id="newton">
  <h2>M√©todo de Newton-Raphson</h2>
  <p>Esse m√©todo utiliza a derivada da fun√ß√£o para encontrar sucessivas aproxima√ß√µes da raiz. √â muito eficiente quando a fun√ß√£o e sua derivada s√£o conhecidas.</p>

  <h3 style="margin-top: 2rem; color: var(--primary);">üß† Calculadora de Newton-Raphson</h3>
  <div style="background: #f8f9fa; padding: 1rem; border-radius: 10px; box-shadow: 0 2px 4px rgba(0,0,0,0.05);">
    <label for="funcao-newton">Fun√ß√£o f(x):</label>
    <input type="text" id="funcao-newton" placeholder="Ex: x^3 - x - 2" style="width: 100%; padding: 0.5rem; margin: 0.5rem 0;">

    <label for="derivada-newton">Derivada f'(x):</label>
    <input type="text" id="derivada-newton" placeholder="Ex: 3*x^2 - 1" style="width: 100%; padding: 0.5rem; margin: 0.5rem 0;">

    <label for="x0-newton">Valor inicial x‚ÇÄ:</label>
    <input type="number" id="x0-newton" style="width: 100%; padding: 0.5rem; margin: 0.5rem 0;">

    <label for="iteracoes-newton">N√∫mero de itera√ß√µes:</label>
    <input type="number" id="iteracoes-newton" value="5" style="width: 100%; padding: 0.5rem; margin: 0.5rem 0;">

    <button onclick="executarNewton()" style="padding: 0.5rem 1rem; background-color: var(--primary); color: white; border: none; border-radius: 5px; cursor: pointer;">Calcular</button>
    <div id="resultado-newton" style="margin-top: 1rem;"></div>
  </div>
</section>
<section id="erro">
  <h2>Erro em M√©todos Num√©ricos</h2>
  <p>Os m√©todos num√©ricos aproximam o valor da raiz, e por isso √© fundamental medir a precis√£o dessas aproxima√ß√µes. Os principais tipos de erro s√£o:</p>
  <ul>
    <li><strong>Erro absoluto:</strong> diferen√ßa entre a raiz real e a aproxima√ß√£o atual.</li>
    <li><strong>Erro relativo:</strong> erro absoluto dividido pela aproxima√ß√£o.</li>
    <li><strong>Erro estimado:</strong> diferen√ßa entre as duas √∫ltimas aproxima√ß√µes feitas.</li>
  </ul>
  <h3 style="margin-top: 2rem; color: var(--primary);">üìä Erros da √∫ltima opera√ß√£o</h3>
  <div id="resultado-erros" style="margin-top: 1rem; font-weight: bold;"></div>
  <button onclick="limparErros()" style="margin-top:1rem; padding: 0.5rem 1rem; background-color: var(--gray); color: white; border: none; border-radius: 5px; cursor: pointer;">Limpar hist√≥rico</button>
</section>
  </main>
  <footer>
    <p>&copy; 2025 C√°lculo Num√©rico. Projeto educacional para ensino de m√©todos num√©ricos.</p>
  </footer>
  <script src="https://cdnjs.cloudflare.com/ajax/libs/mathjs/11.11.1/math.min.js"></script>
  

  <script>
    let ultimoX = null;
    let penultimoX = null;

    function salvarIteracao(xAnterior, xAtual) {
      penultimoX = xAnterior;
      ultimoX = xAtual;
    }

    function mostrarErros() {
      const saida = document.getElementById("resultado-erros");
      if (ultimoX === null || penultimoX === null) {
        saida.innerHTML = "<p style='color:red;'>Nenhuma opera√ß√£o foi realizada ainda.</p>";
        return;
      }
      const erroAbs = Math.abs(ultimoX - penultimoX);
      const erroRel = erroAbs / Math.abs(ultimoX);
      const erroEst = erroAbs;
      saida.innerHTML = `
        <p>√öltima aproxima√ß√£o: <strong>${ultimoX.toFixed(6)}</strong></p>
        <p>Pen√∫ltima aproxima√ß√£o: <strong>${penultimoX.toFixed(6)}</strong></p>
        <p><strong>Erro absoluto:</strong> ${erroAbs.toExponential(4)}</p>
        <p><strong>Erro relativo:</strong> ${erroRel.toExponential(4)}</p>
        <p><strong>Erro estimado:</strong> ${erroEst.toExponential(4)}</p>
      `;
    }

    function limparErros() {
      ultimoX = null;
      penultimoX = null;
      document.getElementById("resultado-erros").innerHTML = "<p style='color:gray;'>Hist√≥rico de erros limpo.</p>";
    }

    function mostrarSecao(id) {
      const secoes = document.querySelectorAll('main section');
      const secaoAlvo = document.getElementById(id);
      secoes.forEach(secao => secao.classList.remove('active'));
      secaoAlvo.classList.add('active');
      window.scrollTo({ top: 0, behavior: 'smooth' });
      if (id === 'erro') mostrarErros();
    }

    function verificarBolzano() {
      const funcStr = document.getElementById('funcao').value;
      const a = parseFloat(document.getElementById('a').value);
      const b = parseFloat(document.getElementById('b').value);
      const resultado = document.getElementById('resultado-bolzano');
      if (isNaN(a) || isNaN(b) || !funcStr) {
        resultado.textContent = 'Por favor, preencha todos os campos corretamente.';
        resultado.style.color = 'red';
        return;
      }
      try {
        const f = math.compile(funcStr);
        const fa = f.evaluate({ x: a });
        const fb = f.evaluate({ x: b });
        const produto = fa * fb;
        let mensagem = `f(${a}) = ${fa.toFixed(4)}, f(${b}) = ${fb.toFixed(4)} => f(a) * f(b) = ${(produto).toFixed(4)}<br>`;
        mensagem += (produto < 0)
          ? '<span style="color: green">H√° pelo menos uma raiz no intervalo, pois f(a) e f(b) possuem sinais opostos.</span>'
          : '<span style="color: red">N√£o √© poss√≠vel garantir a exist√™ncia de uma raiz, pois f(a) e f(b) n√£o possuem sinais opostos.</span>';
        resultado.innerHTML = mensagem;
      } catch (error) {
        resultado.textContent = 'Erro ao interpretar a fun√ß√£o. Verifique a express√£o.';
        resultado.style.color = 'red';
      }
    }

function executarBissecao() {
  const funcStr = document.getElementById('funcao-bissecao').value;
  let a = parseFloat(document.getElementById('a-bissecao').value);
  let b = parseFloat(document.getElementById('b-bissecao').value);
  const n = parseInt(document.getElementById('iteracoes-bissecao').value);
  const cont = document.getElementById('resultado-bissecao');

  if (!funcStr || isNaN(a) || isNaN(b) || isNaN(n)) {
    cont.innerHTML = '<p style="color:red">Preencha todos os campos corretamente.</p>';
    return;
  }

  const f = math.compile(funcStr);
  let m = null;
  let html = '<table style="width:100%; border-collapse: collapse; margin-top:1rem;">'
           + '<tr style="background:#007BFF;color:white;"><th>a</th><th>b</th><th>m</th><th>f(m)</th></tr>';

  for (let i = 0; i < n; i++) {
    m = (a + b) / 2;
    const fm = f.evaluate({ x: m });
    html += `<tr style="border-bottom:1px solid #ccc;">
               <td>${a.toFixed(4)}</td>
               <td>${b.toFixed(4)}</td>
               <td>${m.toFixed(4)}</td>
               <td>${fm.toFixed(6)}</td>
             </tr>`;
    if (f.evaluate({ x: a }) * fm < 0) {
      b = m;
    } else {
      a = m;
    }
  }

  html += '</table>';
  html = `<p style="font-weight:bold; margin-top:1rem;">Raiz aproximada: <span style="color:green;">${m.toFixed(6)}</span></p>` + html;
  cont.innerHTML = html;
}




function executarFalsaPosicao() {
  const funcStr = document.getElementById('funcao-falsa').value;
  let a = parseFloat(document.getElementById('a-falsa').value);
  let b = parseFloat(document.getElementById('b-falsa').value);
  const n = parseInt(document.getElementById('iteracoes-falsa').value);
  const resultado = document.getElementById('resultado-falsa');

  if (!funcStr || isNaN(a) || isNaN(b) || isNaN(n)) {
    resultado.innerHTML = '<p style="color:red">Preencha todos os campos corretamente.</p>';
    return;
  }

  try {
    const f = math.compile(funcStr);
    const fa0 = f.evaluate({ x: a });
    const fb0 = f.evaluate({ x: b });

    if (fa0 * fb0 > 0) {
      resultado.innerHTML = `<p style="color:red;">f(a) e f(b) n√£o possuem sinais opostos. O m√©todo da Falsa Posi√ß√£o n√£o pode ser aplicado.</p>`;
      return;
    }

    let output = '';
    let tabela = '<table style="width:100%; border-collapse: collapse; margin-top: 1rem;">';
    tabela += '<tr style="background:#007BFF; color:white;"><th>a</th><th>b</th><th>x</th><th>f(x)</th></tr>';

    let xAtual = null;
    let xAnterior = null;

    for (let i = 0; i < n; i++) {
      const fa = f.evaluate({ x: a });
      const fb = f.evaluate({ x: b });
      const x = (a * fb - b * fa) / (fb - fa);
      const fx = f.evaluate({ x });

      tabela += `<tr style="border-bottom:1px solid #ccc;">
        <td>${a.toFixed(4)}</td>
        <td>${b.toFixed(4)}</td>
        <td>${x.toFixed(4)}</td>
        <td>${fx.toFixed(6)}</td>
      </tr>`;

      if (fa * fx < 0) {
        b = x;
      } else {
        a = x;
      }

      if (i === n - 2) xAnterior = x;
      if (i === n - 1) xAtual = x;
    }

    penultimoX = xAnterior;
    ultimoX = xAtual;

    tabela += '</table>';

    output += `<p style="font-weight:bold; margin-bottom: 1rem;">Raiz aproximada ap√≥s ${n} itera√ß√µes: <span style="color:green;">${xAtual.toFixed(6)}</span></p>`;
    output += tabela;

    resultado.innerHTML = output;
  } catch (e) {
    resultado.innerHTML = '<p style="color:red;">Erro ao interpretar a fun√ß√£o. Verifique a express√£o.</p>';
  }
}

function executarNewton() {
  const funcStr = document.getElementById('funcao-newton').value;
  const derivStr = document.getElementById('derivada-newton').value;
  let x = parseFloat(document.getElementById('x0-newton').value);
  const n = parseInt(document.getElementById('iteracoes-newton').value);
  const resultado = document.getElementById('resultado-newton');

  if (!funcStr || !derivStr || isNaN(x) || isNaN(n)) {
    resultado.innerHTML = '<p style="color:red;">Preencha todos os campos corretamente.</p>';
    return;
  }

  try {
    const f = math.compile(funcStr);
    const df = math.compile(derivStr);

    let output = '';
    let tabela = '<table style="width:100%; border-collapse: collapse; margin-top: 1rem;">';
    tabela += '<tr style="background:#007BFF; color:white;"><th>x</th><th>f(x)</th><th>f\'(x)</th></tr>';

    let xAnterior = null;

    for (let i = 0; i < n; i++) {
      const fx = f.evaluate({ x });
      const dfx = df.evaluate({ x });

      if (!isFinite(fx) || !isFinite(dfx)) {
        resultado.innerHTML = `<p style="color:red;">Fun√ß√£o ou derivada n√£o definida em x = ${x.toFixed(4)}. Interrompendo c√°lculo.</p>`;
        return;
      }

      if (Math.abs(dfx) < 1e-8) {
        resultado.innerHTML = `<p style="color:red;">Derivada muito pr√≥xima de zero em x = ${x.toFixed(4)}. O m√©todo n√£o pode continuar.</p>`;
        return;
      }

      tabela += `<tr style="border-bottom:1px solid #ccc;">
        <td>${x.toFixed(4)}</td>
        <td>${fx.toFixed(6)}</td>
        <td>${dfx.toFixed(6)}</td>
      </tr>`;

      if (i === n - 2) penultimoX = x;
      xAnterior = x;
      x = x - fx / dfx;
      if (i === n - 1) ultimoX = x;
    }

    tabela += '</table>';
    output += `<p style="font-weight:bold; margin-bottom: 1rem;">Raiz aproximada ap√≥s ${n} itera√ß√µes: <span style="color:green;">${ultimoX.toFixed(6)}</span></p>`;
    output += tabela;

    resultado.innerHTML = output;
    
  } catch (e) {
    resultado.innerHTML = '<p style="color:red;">Erro ao processar a fun√ß√£o ou derivada. Verifique as express√µes digitadas.</p>';
  }
}

  </script>

</body>
</html>
